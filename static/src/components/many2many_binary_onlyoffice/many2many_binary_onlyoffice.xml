<?xml version="1.0" encoding="utf-8" ?>
<!--
    ONLYOFFICE Integration for Many2Many Binary Fields
    (c) 2024 RRDS
-->
<templates xml:space="preserve">
    <!-- Extend the attachment preview template to add ONLYOFFICE edit button -->
    <t t-inherit="web.Many2ManyBinaryField.attachment_preview" t-inherit-mode="extension">
        <!-- Add ONLYOFFICE edit button in the aside section before the delete button -->
        <xpath expr="//aside/i[hasclass('fa-times')]" position="before">
            <i
                t-if="editable and onlyofficeCanOpen(file)"
                class="fa fa-pencil o_attachment_onlyoffice me-2"
                t-on-click.stop="() => this.openOnlyoffice(file)"
                title="Edit in ONLYOFFICE"
                role="img"
                aria-label="Edit in ONLYOFFICE"
            />
        </xpath>
    </t>
</templates>
